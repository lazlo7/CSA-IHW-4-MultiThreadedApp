# АВС. Индивидуальное домашнее задание 4: Вариант 10

Смагин Максим Сергеевич, БПИ-212

## Многопоточное приложение

## Цели и задачи 
Изучить работу с потоками. Научиться разбивать задачу на части, для последующего их выполнения различными потоками. Научиться использовать синхропримитивы для организации согласованного взаимодействия потоков.
Приведены общие сведения и пояснения независимо от планируемой оценки. Выбор их выполнения или невыполнения определяется в соответствии с формулой оценки данного задания. При выполнении необходимо разработать и сдать только одну программу, вбирающую в себя все требования на текущую и предыдущие оценки.  

В соответствии с новым выданным вариантом задания разработать консольное приложение с использованием библиотеки POSIX Threads и языков программирования C или C++. Запрещается использовать стандартную библиотеку thread языка программирования C++. Программа должна компилироваться и выполняться в ОС Linux. Стиль написания программы - свободный.  

Выбрать модель приложения, наиболее точно отвечающую специфике задачи или применить указанную. Изучить используемую модель по дополнительным источники информации и привести в пояснительной записке ее подробное описание.  

Разработать алгоритм решения задания, с учетом разделения вычислений между несколькими потоками. Избегать ситуаций неуправляемого изменения одних и тех же общих данных несколькими потоками и их несогласованного поведения. Для этого необходимо использовать мьютексы, критические секции, и другие изученные средства синхронизации.  

Провести отладку и тестирование разработанной программы. Программа должна правильно обрабатывать входные данные в соответствии с условием задания и реагировать на некорректно вводимые исходные данные. Ввод основных данных должен осуществляться в допустимом для условия задачи диапазоне без введения искусственных ограничений.  

Отчет должен содержать титульный лист с идентификацией студента, номер варианта, описание задачи.  

В отчете необходимо подробно описать используемую модель вычислений. Привести источники информации, в которых описана данная модель.  

Ввод-вывод данных организовать в соответствии с планируемой оценкой. При этом способы ввода, должны быть тщательно документированы и понятны пользователю программы. Описание работы с данными программы должно быть приведено в отчете и сопровождаться соответствующей информацией при работе с программой.  

Для порождения массивов данных допускается использовать генераторы случайных чисел. При этом генераторами случайных чисел должны порождаться семантически корректные данные.  

В ходе выполнения программа должна выводить в консоль все события, доступно (в терминах предметной области) объясняющие последовательность моделируемых действия. При необходимости нужно выводить модельное время, формируемое на основе принятых единиц его измерения.  

При решении задачи обязательно использовать синхропримитивы из указанных в условии (если они указаны).  

## Условие варианта 10 
10\. Задача о магазине - 1. В магазине работают три отдела, каждый отдел обслуживает один продавец.  
Покупатель, зайдя в магазин, делает покупки в одном или нескольких произвольных отделах, обходя их в произвольном порядке.  
Если в выбранном отделе продавец не свободен, покупатель становится в очередь и засыпает, пока продавец не освободится.  
Создать многопоточное приложение, моделирующее рабочий день магазина.  

- `./report.md`: отчет
- `./src/prog.cpp`: исходный код на C++
- `./src/Makefile`: Makefile для сборки проекта

`$ make` для сборки проекта.  
Приведено решение на 6 баллов.   